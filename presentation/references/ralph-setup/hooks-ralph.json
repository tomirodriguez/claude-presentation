{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": {
          "tool": "Edit|Write",
          "input": {
            "file_path": ".*\\.(ts|tsx)$"
          }
        },
        "command": "pnpm typecheck --noEmit 2>&1 | head -20"
      },
      {
        "matcher": {
          "tool": "Edit|Write",
          "input": {
            "file_path": ".*\\.(ts|tsx|js|jsx)$"
          }
        },
        "command": "biome check --write \"$FILE_PATH\""
      }
    ],
    "PreToolUse": [
      {
        "matcher": {
          "tool": "Edit",
          "input": {
            "file_path": ".*\\.(ts|tsx)$"
          }
        },
        "command": "test -f \"$FILE_PATH\" || (echo 'ERROR: File does not exist: $FILE_PATH' && exit 2)"
      }
    ],
    "Stop": [
      {
        "matcher": {},
        "command": "echo '=== Final Validation ===' && pnpm typecheck && pnpm lint"
      }
    ]
  }
}

// ═══════════════════════════════════════════════════════════════════════════
// RALPH HOOKS - EXPLICACIÓN
// ═══════════════════════════════════════════════════════════════════════════
//
// PostToolUse #1: Typecheck después de cada edición
// - Se ejecuta cada vez que Claude edita un archivo .ts/.tsx
// - Si falla, Claude ve los errores y debe corregir
//
// PostToolUse #2: Auto-format con biome
// - Formatea y lintea automáticamente archivos JS/TS
// - Asegura consistencia de estilo y calidad
//
// PreToolUse: Validar que el archivo existe
// - Previene que Claude intente editar archivos inexistentes
// - Exit code 2 = BLOQUEAR la acción
//
// Stop: Validación final
// - Se ejecuta cuando Claude termina una tarea
// - Corre typecheck y lint completos
// - Si falla, Claude debe corregir antes de declarar "done"
//
// ═══════════════════════════════════════════════════════════════════════════
